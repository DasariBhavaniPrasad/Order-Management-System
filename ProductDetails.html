<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Details</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .details-container {
      background: linear-gradient(135deg, #f8fafc 60%, #e0e7ff 100%);
      border-radius: 22px;
      box-shadow: 0 12px 40px 0 #667eea44, 0 2px 8px #fff3;
      padding: 38px 32px;
      color: #222;
      max-width: 440px;
      width: 95vw;
      text-align: center;
      border: 2px solid #667eea22;
    }
    .product-image {
      width: 100%;
      height: 220px;
      object-fit: contain;
      border-radius: 16px;
      margin-bottom: 22px;
      background: #fff;
      box-shadow: 0 2px 12px #667eea22;
      border: 2px solid #ffb34744;
      transition: box-shadow 0.2s, border 0.2s;
    }
    .product-name {
      font-size: 1.7rem;
      font-weight: 900;
      color: #764ba2;
      margin-bottom: 10px;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #ffb34722;
      background: linear-gradient(90deg,#667eea 30%,#ffb347 70%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .product-code {
      font-size: 1.1rem;
      color: #fff;
      font-weight: 700;
      margin-bottom: 8px;
      background: linear-gradient(90deg,#667eea 60%,#ffb347 100%);
      padding: 3px 14px;
      border-radius: 8px;
      display: inline-block;
      box-shadow: 0 2px 8px #667eea22;
      letter-spacing: 1px;
    }
    .product-category {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 14px;
      padding: 3px 16px;
      border-radius: 10px;
      color: #fff;
      background: linear-gradient(90deg, #ffb347 60%, #667eea 100%);
      display: inline-block;
      box-shadow: 0 2px 8px #ffb34722;
      letter-spacing: 1px;
    }
    .product-price {
      font-size: 1.35rem;
      font-weight: 900;
      color: #22c55e;
      margin-bottom: 14px;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px #22c55e22;
    }
    .back-btn {
      margin-top: 28px;
      padding: 12px 28px;
      background: linear-gradient(90deg,#667eea 60%,#ffb347 100%);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1.08rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s;
      box-shadow: 0 2px 8px #667eea22;
    }
    .back-btn:hover {
      background: linear-gradient(90deg,#ffb347 60%,#667eea 100%);
    }
    @media (max-width: 600px) {
      .details-container { padding: 18px 6px; }
      .product-image { height: 120px; }
      .product-name { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <div class="details-container" id="detailsContainer">
    <p style="color:#667eea;font-weight:600;">Loading product details...</p>
  </div>
  <script>
    function getProductCodeFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return params.get('code');
    }
    async function fetchProductDetails(code) {
      const container = document.getElementById('detailsContainer');
      try {
        const response = await fetch(`https://dev-product-sapi-wtguo4.5sc6y6-2.usa-e2.cloudhub.io/api/products/${code}`);
        const product = await response.json();
        container.innerHTML = `
          <img src="${product['Product Image']}" alt="${product['Product Name']}" class="product-image" />
          <div class="product-name">${product['Product Name']}</div>
          <div class="product-code">${product['Product Code']}</div>
          <div class="product-category">${product['Product Category']}</div>
          <div class="product-price">â‚¹${Number(product['Product Price']).toLocaleString()}</div>
          <button class="back-btn" onclick="window.history.back()">Back</button>
          <button class="back-btn" style="margin-left:12px;background:linear-gradient(90deg,#ffb347 60%,#667eea 100%);" onclick="window.location.href='OrderPage.html?code=${product['Product Code']}'">Order Now</button>
        `;
      } catch (err) {
        container.innerHTML = '<p style="color:#ff4d4d;">Failed to load product details.</p>';
      }
    }
    const code = getProductCodeFromUrl();
    if (code) fetchProductDetails(code);
    else document.getElementById('detailsContainer').innerHTML = '<p style="color:#ff4d4d;">No product code provided.</p>';
  </script>
</body>
</html>
